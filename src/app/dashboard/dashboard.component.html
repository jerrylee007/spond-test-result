<div *ngFor="let buildInfo of allBuilds"
    class="dashboard-wrapper"
    [ngClass]="{'section-margin': buildInfo.server == 'staging'}">
  <div class="client-title">
    {{buildInfo.client}}
  </div>
  <div class="build-number-col border-top app-background">
    Build No.
  </div>
   <div class="build-version-col border-top app-background">
    Version
  </div>
   <div class="build-time-col border-top app-background">
    Time
  </div>
   <div class="build-total-case-number-col border-top app-background">
    Base count
  </div>
   <div class="build-faild-case-number-col border-top app-background">
    <span class="failed-number">Original failed</span> /
    <span class="ignored-number">Ignored</span> /
    <span class="fixed-number">Fixed failed</span> /
    <span class="remain-number">Remain failed</span>
  </div>
  <div class="action-col border-top app-background">
    Action
  </div>
    <div *ngFor="let build of buildInfo.results" class="build-detail-row" (click)="goToBuildFailedDetails(buildInfo.client, build)">
      <div class="build-number-col">
        {{build.buildNumber}}
      </div>
       <div class="build-version-col" style="font-size: 11px;">
        {{build.version}}
      </div>
       <div class="build-time-col">
        {{build.time}}
      </div>
       <div class="build-total-case-number-col" >
        {{build.baseFileCount}}
      </div>
       <div class="build-faild-case-number-col">
        <span class="failed-number number">{{build.failedData ? build.failedData.length : 0}}</span> /
        <span class="ignored-number number">{{build.ignoredData ? build.ignoredData.length : 0}}</span> /
        <span class="fixed-number number">{{build.replaced ? build.replaced.length : 0}}</span> /
        <span class="remain-number number">{{(build.failedData ? build.failedData.length : 0) - (build.replaced ? build.replaced.length : 0)}}</span> 
      </div>
       <div class="action-col">
            <spinner-button 
            style="z-index: 999;"
            #btnReplace
            [id]="case"
            class="build-detail-action"
            spinnerTheme="spinner-white"
            buttonTheme="btn-with-shadow spond-small-red"
            [isDisabled]="!build.isRemoving"
            (click)="onRemoveBuild(build);$event.stopPropagation();" aria-label="Close">
              Remove
            </spinner-button>
      </div>
    </div>
</div>

<confirm-modal #confirmRemoveModal
(onConfirm)="onConfirmRemoveClicked($event)"></confirm-modal>

